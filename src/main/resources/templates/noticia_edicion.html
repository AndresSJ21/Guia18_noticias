<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>EggNews: Editar Noticia</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <header>
            <h2>Editá tu Noticia Aquí!!!</h2>
        </header>
        <section>
            <form th:action="@{/noticia/editar/__${noticia.id}__}" method="POST" enctype="multipart/form-data">
                <input hidden th:value="${id}" name="id">
                   <div>
                        <label for="titular">Titular</label><br>
                        <input th:value="${noticia.titulo}" type="text" name="titulo" id="titular" placeholder="Ingresa el titular aquí...">
                        <br>
                        <br>
                        <label for="contenido" >Contenido: </label>
                        <br>
                        <textarea th:text="${noticia.contenido}"type="text" name="contenido" rows="10" cols="40" id="contenidoTextArea" placeholder="Escribe el contenido de la nota aquí..."></textarea>
                        
                      <br>
                        <br>
                        <label>Foto Noticia: </label>
                        <br>
                            <img th:if="${noticia.foto!=null}" th:src="${'/foto/noticia?idNoticia=__${noticia.id}__' }" width="200px">
                            <img th:unless="${noticia.foto!=null}" style="display:none">
                        <br>
                        <label for="imgNoticia"></label>
                        <input type="file" name="archivo" onchange="loadFile(event)" id="imgNoticia" placeholder="Elige una foto.."/>
                        <br>
                        <br>
                        <img id="output" width="400px">
                        <script>
                            var loadFile = function(event){
                                var output = document.getElementById('output');
                                output.src = URL.createObjectURL(event.target.files[0]);
                                output.onload = function(){
                                    URL.revokeObjectURL(output.src);
                                };
                            };
                        </script>
                        <br>
                        <br>
                       <label for="autor">Autor: </label>
                        <input th:value="${noticia.autor.nombre}" type="text" name="nombre" id="autor" placeholder="Ingresa el titular aquí...">
                        <select name="idAutor">
                            <option>Seleccionar Autor
                            <option th:each="autor : ${autores}" th:value="${autor.id}" th:text="${autor.nombre}">
                        </select>
                    </div>
                <button type="submit">Actualizar</button>
            </form>
        </section>
        <div>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/noticia/listar">Listado Noticias</a></li>
                <li><a href="/noticia/cargar">Cargar Noticia</a></li>
            </ul>
        </div>
    </body>
</html>
